(this["webpackJsonpstuart-frontend-challenge-altea"]=this["webpackJsonpstuart-frontend-challenge-altea"]||[]).push([[0],{18:function(e,t,s){},19:function(e,t,s){},39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),i=s(9),o=s.n(i),d=(s(18),s(13)),r=s(3),c=s(4),p=s(8),l=s(6),u=s(5),f=(s(19),s.p+"static/media/pickUpBadgeBlank.ed2c68fd.svg"),h=s.p+"static/media/dropOffBadgeBlack.a0d51e15.svg",O=s.p+"static/media/pickUpBadgePresent.9ffca82d.svg",j=s.p+"static/media/dropOffBadgePresent.e122e9da.svg",b=s.p+"static/media/pickUpBadgeError.17f2d872.svg",g=s.p+"static/media/dropOffBadgeError.5030f42d.svg",k=s(0),m=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props,t=e.onChange,s=e.onKeyUp,a=e.onClick,n=e.pickUpAddress,i=e.dropOffAddress,o=e.isValidPickUp,d=e.isValidDropOff,r=o&&d?"form__button":"form__button disabled",c=o&&""!==n?O:o||""===n?f:b,p=d&&""!==i?j:d||""===i?h:g;return Object(k.jsx)("div",{className:"form__container",children:Object(k.jsxs)("form",{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{className:"form__icon",src:c,alt:"icon"}),Object(k.jsx)("input",{className:"form__input--address",name:"pickUpAddress",placeholder:"Pick up address",value:n,onChange:t,onKeyUp:s})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{className:"form__icon",src:p,alt:"icon"}),Object(k.jsx)("input",{className:"form__input--address",name:"dropOffAddress",placeholder:"Drop off address",value:i,onChange:t,onKeyUp:s})]}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{className:r,disabled:!(o&&d),onClick:a,children:"Create a job"})]})})}}]),s}(a.Component),C=s(10),v=s.p+"static/media/pickUpMarker.5647c56d.svg",U=s.p+"static/media/dropOffMarker.76797aa2.svg",A={position:"relative",width:"100%",height:"100%"},y=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props,t=e.pickUpLatitude,s=e.pickUpLongitude,a=e.dropOffLatitude,n=e.dropOffLongitude,i=e.pickUpAddress,o=e.dropOffAddress;return Object(k.jsxs)(C.Map,{google:this.props.google,zoom:14,style:A,center:{lat:t,lng:s},initialCenter:{lat:48.86982,lng:2.334579},children:[i?Object(k.jsx)(C.Marker,{onClick:this.onMarkerClick,name:"Current location",position:{lat:t,lng:s},icon:{url:v}}):null,o?Object(k.jsx)(C.Marker,{onClick:this.onMarkerClick,name:"Current location",position:{lat:a,lng:n},icon:{url:U}}):null]})}}]),s}(a.Component),x=Object(C.GoogleApiWrapper)({apiKey:"AIzaSyC2EOuV5biP5dtQDo9h87O9teXTtaP_JYw"})(y),L=(s(39),function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props,t=e.onClick,s=e.showToast,a=e.hideToast;return Object(k.jsx)("div",{children:a?null:Object(k.jsxs)("form",{onSubmit:this.handlesubmit,children:[Object(k.jsx)("input",{className:"toast",type:"submit",value:"Job has been created successfully!",onClick:t}),s?Object(k.jsx)("span",{}):null]})})}}]),s}(a.Component)),T=(s(40),"https://stuart-\xadfrontend-\xadchallenge.now.sh"),_=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={pickUpAddress:"",dropOffAddress:"",pickUpLatitude:"",pickUpLongitude:"",dropOffLatitude:"",dropOffLongitude:"",isValidPickUp:!1,isValidDropOff:!1,requestCompleted:!1,showToast:!1,hideToast:!1},a.handleGeocodeAddress=a.handleGeocodeAddress.bind(Object(p.a)(a)),a.handleCreateJob=a.handleCreateJob.bind(Object(p.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a.showToastWhenJobCreated=a.showToastWhenJobCreated.bind(Object(p.a)(a)),a}return Object(c.a)(s,[{key:"handleInputChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"handleGeocodeAddress",value:function(e){var t=this,s=e.target;fetch("".concat(T,"/geocode"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({address:s.value})}).then((function(e){return e.json()})).then((function(e){"pickUpAddress"===s.name&&"GEOCODE_ERROR"===e.code?t.setState({isValidPickUp:!1}):"pickUpAddress"===s.name&&"GEOCODE_ERROR"!==e.code?t.setState({pickUpLatitude:e.latitude,pickUpLongitude:e.longitude,isValidPickUp:!0}):"dropOffAddress"===s.name&&"GEOCODE_ERROR"===e.code?t.setState({isValidDropOff:!1}):"dropOffAddress"===s.name&&"GEOCODE_ERROR"!==e.code?t.setState({dropOffLatitude:e.latitude,dropOffLongitude:e.longitude,isValidDropOff:!0}):console.log("error")})),e.preventDefault()}},{key:"handleCreateJob",value:function(e){var t=this,s=this.state.pickUpAddress,a=this.state.dropOffAddress;fetch("".concat(T,"/jobs"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({pickup:s,dropoff:a})}).then((function(e){return e.json()})).then(this.setState({requestCompleted:!0,pickUpAddress:"",dropOffAddress:""})),setTimeout((function(){return t.setState({hideToast:!0})}),5e3),e.preventDefault()}},{key:"showToastWhenJobCreated",value:function(){this.setState({showToast:!0})}},{key:"render",value:function(){var e=this.state.pickUpAddress,t=this.state.dropOffAddress,s=this.state.pickUpLatitude,a=this.state.pickUpLongitude,n=this.state.dropOffLatitude,i=this.state.dropOffLongitude,o=this.state.isValidPickUp,d=this.state.isValidDropOff,r=this.state.requestCompleted,c=this.state.showToast,p=this.state.hideToast;return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)("header",{className:"App-header",children:[Object(k.jsx)(m,{onChange:this.handleInputChange,onKeyUp:this.handleGeocodeAddress,onClick:this.handleCreateJob,pickUpAddress:e,dropOffAddress:t,isValidPickUp:o,isValidDropOff:d}),Object(k.jsx)(x,{pickUpLatitude:s,pickUpLongitude:a,dropOffLatitude:n,dropOffLongitude:i,pickUpAddress:e,dropOffAddress:t}),r?Object(k.jsx)(L,{onClick:this.showToastWhenJobCreated,showToast:c,hideToast:p}):null]})})}}]),s}(a.Component),E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,42)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;s(e),a(e),n(e),i(e),o(e)}))};o.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(_,{})}),document.getElementById("root")),E()}},[[41,1,2]]]);
//# sourceMappingURL=main.8f0b61fe.chunk.js.map